<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ボタン連打テスト</title>
<style>
body {
	display: flex;
	flex-direction: column;
	font-size: 32px;
	gap: 32px;
	align-items: center;
}
button {
	width: 360px;
	height: 64px;
	font-size: 32px;
}
</style>
</head>
<body>
<div id="out">0</div>
<div><button id="plus">+1</button></div>
<div><button id="auto">自動加算ON/OFF</button></div>
<div>+<span id="log">0</span>/秒</div>
<script>
const out = document.getElementById('out');
const plus = document.getElementById('plus');
const auto = document.getElementById('auto');
const log = document.getElementById('log');

let value = 0;
plus.addEventListener('click', () => out.innerText = ++value);

let timer = null;
auto.addEventListener('click', () => {
	if (timer) {
		clearInterval(timer);
		timer = null;
	} else {
		timer = setInterval(() => plus.click(), 0);
	}
});

let old = 0;
setInterval(() => {
	log.innerText = value - old;
	old = value;
}, 1000);
</script>
</body>
</html>
